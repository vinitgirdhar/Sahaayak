{% extends "base.html" %}

{% block title %}Home - Sahaayak{% endblock %}

{% block content %}
<div 
  class="min-h-screen bg-cover bg-center bg-no-repeat flex items-center justify-center p-4" 
  style="background-image: url('{{ url_for('static', filename='uploads/groceries.jpg') }}');">
    <div class="max-w-4xl w-full bg-black/40 backdrop-blur-md rounded-2xl shadow-2xl overflow-hidden">
        <div class="grid md:grid-cols-2">
            <!-- Header Section -->
            <div class="p-6 md:p-12 text-white flex flex-col justify-center">
                <h1 class="text-2xl md:text-4xl font-bold">Welcome to Sahaayak</h1>
                <p class="mt-3 md:mt-4 text-sm md:text-lg text-gray-200">Connect vendors and wholesalers for bulk purchasing power and better deals.</p>
            </div>
            
            <!-- Action Cards Section -->
            <div class="p-4 md:p-8 bg-black/20">
                <div class="grid grid-cols-1 gap-4 md:gap-6">
                    <!-- Street Vendor Card -->
                    <div class="bg-green-500/90 rounded-xl shadow-lg p-4 md:p-6 text-white text-center transform hover:scale-105 transition-transform duration-300 cursor-pointer" onclick="handleVendorClick()">
                        <div class="flex items-center justify-center">
                            <div class="w-8 h-8 md:hidden flex items-center justify-center bg-white/20 rounded-full mr-3">
                                <span class="text-lg">üõí</span>
                            </div>
                            <h2 class="text-lg md:text-2xl font-bold">I'm a Street Vendor</h2>
                        </div>
                    </div>
                    
                    <!-- Wholesaler Card -->
                    <div class="bg-blue-600/90 rounded-xl shadow-lg p-4 md:p-6 text-white text-center">
                        <div class="flex items-center justify-center mb-2 md:mb-0">
                            <div class="w-8 h-8 md:hidden flex items-center justify-center bg-white/20 rounded-full mr-3">
                                <span class="text-lg">üè≠</span>
                            </div>
                            <h2 class="text-lg md:text-2xl font-bold">I'm a Wholesaler</h2>
                        </div>
                        <div class="mt-3 md:mt-6 space-y-3 md:space-y-4">
                            <a href="{{ url_for('main.wholesaler_login') }}" class="w-full block bg-white text-blue-600 font-semibold py-2.5 md:py-3 px-4 rounded-lg shadow-md hover:bg-gray-100 transition-colors duration-300 text-sm md:text-base">Login to Dashboard</a>
                            <a href="{{ url_for('main.register_wholesaler') }}" class="w-full block bg-blue-500 text-white font-semibold py-2.5 md:py-3 px-4 rounded-lg shadow-md hover:bg-blue-400 transition-colors duration-300 border border-blue-400 text-sm md:text-base">Register New Account</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Vendor Action Modal -->
<div id="vendorActionModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
    <div class="relative top-4 md:top-20 mx-auto p-4 md:p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white max-w-md">
        <div class="mt-3">
            <div class="flex justify-between items-center mb-4 md:mb-6">
                <h3 class="text-lg md:text-xl font-bold text-gray-800">Welcome, Street Vendor!</h3>
                <button onclick="hideVendorActionModal()" class="text-gray-400 hover:text-gray-600 text-xl md:text-2xl">&times;</button>
            </div>
            <p class="text-gray-600 mb-4 md:mb-6 text-center text-sm md:text-base">Choose an option to continue</p>
            <div class="space-y-3 md:space-y-4">
                <!-- Login Button -->
                <button onclick="goToLogin()" 
                        class="w-full bg-blue-50 hover:bg-blue-100 border-2 border-blue-200 hover:border-blue-400 rounded-lg p-3 md:p-4 text-left transition-all duration-200">
                    <div class="flex items-center space-x-3 md:space-x-4">
                        <div class="w-10 h-10 md:w-12 md:h-12 flex items-center justify-center bg-blue-200 text-blue-800 font-bold text-lg md:text-xl rounded-full">‚ö°</div>
                        <div>
                            <h4 class="font-semibold text-gray-800 text-sm md:text-base">Login</h4>
                            <p class="text-xs md:text-sm text-gray-600">I already have an account</p>
                        </div>
                    </div>
                </button>
                <!-- Register Button -->
                <button onclick="goToRegister()" 
                        class="w-full bg-green-50 hover:bg-green-100 border-2 border-green-200 hover:border-green-400 rounded-lg p-3 md:p-4 text-left transition-all duration-200">
                    <div class="flex items-center space-x-3 md:space-x-4">
                        <div class="w-10 h-10 md:w-12 md:h-12 flex items-center justify-center bg-green-200 text-green-800 font-bold text-lg md:text-xl rounded-full">‚ú®</div>
                        <div>
                            <h4 class="font-semibold text-gray-800 text-sm md:text-base">Register</h4>
                            <p class="text-xs md:text-sm text-gray-600">Create a new account</p>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>
</div>

<script>
// Vendor action modal functions
function handleVendorClick() {
    document.getElementById('vendorActionModal').classList.remove('hidden');
    document.body.style.overflow = 'hidden';
}

function hideVendorActionModal() {
    document.getElementById('vendorActionModal').classList.add('hidden');
    document.body.style.overflow = 'auto';
}

function goToLogin() {
    window.location.href = '{{ url_for("main.vendor_login") }}';
}

function goToRegister() {
    window.location.href = '{{ url_for("main.register_vendor") }}';
}

// Close modal when clicking outside
document.getElementById('vendorActionModal').addEventListener('click', function(e) {
    if (e.target === this) {
        hideVendorActionModal();
    }
});

// Close modal with Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        hideVendorActionModal();
    }
});
</script>
{% endblock %}
