<div class="p-4">
    <div class="flex items-start justify-between mb-4">
        <div>
            <h2 class="text-2xl font-bold" style="color: var(--text-primary);">Order #{{ order.id }}</h2>
            <p class="text-sm" style="color: var(--text-secondary);">Placed {{ order.order_date.strftime('%b %d, %Y %I:%M %p') }}</p>
        </div>
        <div>
            <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                {% if order.status == 'pending' %} bg-yellow-500/20 text-yellow-500
                {% elif order.status == 'processing' %} bg-blue-500/20 text-blue-500
                {% elif order.status == 'completed' %} bg-green-500/20 text-green-500
                {% elif order.status == 'cancelled' %} bg-red-500/20 text-red-500
                {% else %} bg-gray-500/20 text-gray-500 {% endif %}">
                {{ order.status.title() }}
            </span>
        </div>
    </div>

    <section class="mb-4">
        <h3 class="font-semibold mb-2" style="color: var(--text-primary);">Wholesaler</h3>
        <p class="text-sm" style="color: var(--text-secondary);">{{ order.wholesaler_name }}</p>
    </section>

    <section class="mb-4">
        <h3 class="font-semibold mb-2" style="color: var(--text-primary);">Items</h3>
        <ul class="divide-y divide-[var(--border-primary)]">
            {% for item in order.items %}
            <li class="py-3 flex items-center gap-4">
                <img src="{{ url_for('static', filename=item.image_path) if item.image_path else 'https://placehold.co/64x64/1a3a45/f0f6fc?text=N/A' }}" class="w-16 h-16 rounded-lg object-cover">
                <div class="flex-1">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium" style="color: var(--text-primary);">{{ item.product_name }}</p>
                            <p class="text-sm" style="color: var(--text-secondary);">₹{{ "%.2f"|format(item.price) }} each</p>
                        </div>
                        <div class="text-right">
                            <p class="font-semibold" style="color: var(--text-primary);">x{{ item.quantity }}</p>
                            <p class="text-sm" style="color: var(--text-secondary);">₹{{ "%.2f"|format(item.total) }}</p>
                        </div>
                    </div>
                </div>
            </li>
            {% endfor %}
        </ul>
    </section>

    <section class="mb-6">
        <div class="flex justify-between items-center">
            <p class="text-sm" style="color: var(--text-secondary);">Subtotal</p>
            <p class="font-semibold" style="color: var(--text-primary);">₹{{ "%.2f"|format(order.total_amount) }}</p>
        </div>
    </section>

    <div class="flex gap-3">
        <a href="{{ url_for('main.download_receipt') }}" class="px-4 py-2 border rounded-lg text-sm" style="color: var(--text-primary); border-color: var(--border-primary);">Download Receipt</a>
        <button onclick="closeOrderDrawer()" class="px-4 py-2 bg-[var(--background-primary)] border rounded-lg text-sm">Close</button>
    </div>
</div>
